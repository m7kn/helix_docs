# Helix 编辑器文档
版本 24.7

## 介绍

Helix 是一个现代的模态文本编辑器。模态编辑意味着我们可以在不同的模式下处理文本。主要有两种模式：

- 普通模式：按键执行命令而不是输入字符
- 插入模式：用于输入字符

## 基本移动

普通模式下的光标移动：

- `h` - 左移
- `j` - 下移
- `k` - 上移
- `l` - 右移

## 退出

- `:q` 或 `:quit` - 退出（仅在没有未保存的更改时）
- `:q!` 或 `:quit!` - 放弃未保存的更改并退出
- `:wq` 或 `:write-quit` - 保存并退出

## 删除和插入

- `d` - 删除光标下的字符
- `i` - 在光标前进入插入模式
- `a` - 在光标后进入插入模式（追加）
- `I` - 在行首进入插入模式
- `A` - 在行尾进入插入模式
- `o` - 在下方插入新行并进入插入模式
- `O` - 在上方插入新行并进入插入模式

## 保存

- `:w` 或 `:write` - 保存当前文件
- 可以指定可选的文件名/路径

## 移动和选择

- `w` - 向前移动到下一个词的开头
- `e` - 向前移动到当前词的结尾
- `b` - 向后移动到当前词的开头
- `W`，`E`，`B` - 与小写变体相同，但仅在空白处停止

## 更改命令

- `c` - 删除选中文本并进入插入模式
- `d` - 删除选中文本
- 数字 + 命令：多次执行命令（例如 `2w`）

## 选择模式

- `v` - 切换选择模式
- `x` - 选择整行
- `;` - 将选择折叠到光标

## 复制和粘贴

- `y` - 复制（yank）选中文本
- `p` - 在光标后粘贴
- `P` - 在光标前粘贴
- `Space + y/p` - 与系统剪贴板交互

## 搜索

- `/` - 向前搜索
- `?` - 向后搜索
- `n` - 下一个匹配
- `N` - 上一个匹配
- 支持正则表达式

## 多光标

- `C` - 在下一个匹配行复制光标
- `Alt-C` - 在上一个匹配行复制光标
- `s` - 在选中文本中选择匹配项
- `&` - 对齐选择

## 其他功能

- `u` - 撤销
- `U` - 重做
- `.` - 重复上次插入
- `~` - 切换大小写
- `` ` `` - 转换为小写
- `Alt-`` ` ``- 转换为大写
- `Ctrl-c` - 注释/取消注释行

## 窗口管理

- `Ctrl-w nv` - 新建垂直分割
- `Ctrl-w ns` - 新建水平分割
- `Ctrl-w h/j/k/l` - 在窗口间移动
- `Ctrl-w q` - 关闭当前窗口
- `Ctrl-w o` - 关闭其他窗口
- `:vs` / `:hs` - 用文件名打开分割

## 匹配模式

匹配模式通过 `m` 键激活，用于处理括号和其他配对字符：

- `mm` - 跳转到匹配字符
- `mi(` - 选择括号内的内容
- `ma(` - 选择括号及其内容
- `ms(` - 用括号包围选中文本
- `md(` - 删除周围的括号
- `mr([` - 将括号替换为不同类型

其他配对字符也可以代替括号，例如 `{}`、`[]`、`""`、`''`。

## 寄存器使用

寄存器是由字符标识的容器，可以用于不同目的：
- 复制/剪切文本
- 存储搜索表达式
- 存储宏

- `"<ch>` - 选择寄存器（例如 `"a`）
- 使用 `y` 命令保存到选定寄存器
- 使用 `p` 或 `P` 从选定寄存器粘贴

## 宏

宏是可以稍后重播的命令序列：

- `Q` - 开始录制宏（默认到 `@` 寄存器）
- `Q` - 结束宏录制
- `q` - 从 `@` 寄存器播放宏
- `"<ch>Q` - 录制宏到特定寄存器
- `"<ch>q` - 从特定寄存器播放宏

## 搜索和选择

- `*` - 搜索光标下的词
- `v` 模式下的 `n`/`N` - 将新选择添加到下一个/上一个匹配
- `Ctrl-s` - 保存位置到跳转列表
- `Ctrl-i`/`Ctrl-o` - 在跳转列表中前进/后退
- `gw` - 显示双字符标签以快速导航

## 选择管理

- `)` / `(` - 向前/向后移动主选择
- `Alt-,` - 删除主选择
- `Alt-)` / `Alt-(` - 交换选择内容
- `S` - 基于正则表达式模式拆分选择

## 行操作

- `J` - 连接选中的行
- `>` / `<` - 增加/减少缩进
- `Ctrl-a` / `Ctrl-x` - 增加/减少数字

## 高级窗口管理

- `Ctrl-w t` - 转置窗口布局
- `Ctrl-w H/J/K/L` - 将窗口移动到指定方向
- `Space f` - 打开文件选择器
  - `Ctrl-v` - 在垂直分割中打开选中文件
  - `Ctrl-s` - 在水平分割中打开选中文件

## 技巧和提示

1. 大多数命令可以组合：
   - 数字 + 命令：多次执行
   - 寄存器 + 命令：使用特定寄存器的操作
   - 移动 + 操作：对移动选中的文本进行操作

2. 高效编辑策略：
   - 使用 `.` 命令重复更改
   - 多光标并行编辑
   - 匹配模式处理结构化文本
   - 宏用于复杂操作序列

3. 搜索和替换操作：
   - 在受影响区域选择
   - `s` 命令选择模式匹配
   - `c` 命令执行更改

4. 窗口管理模式：
   - 垂直分割用于并行编辑代码和文档
   - 水平分割用于比较不同文件部分
   - 多窗口用于查看参考材料

## 配置

Helix 可以通过以下文件配置：
- `~/.config/helix/config.toml` - 常规设置
- `~/.config/helix/languages.toml` - 语言特定设置

详细配置选项请参考官方文档。

## 总结

Helix 是一个功能强大的现代文本编辑器，它：
- 使用模态编辑提高效率
- 提供丰富的命令和功能处理
- 支持多光标和选择
- 启用灵活的窗口管理
- 可配置和可扩展

为了有效使用：
1. 学习基本移动和编辑命令
2. 逐步掌握高级功能
3. 开发适合工作流程的配置
4. 定期练习使用新命令
